---
id: 2740
title: 'CRITICAL UPDATE Re: DAO Vulnerability'
date: 2016-06-17T13:20:23+00:00
author: Vitalik Buterin
layout: post
guid: https://blog.ethereum.org/?p=2740
permalink: /2016/06/17/critical-update-re-dao-vulnerability/
dsq_thread_id:
  - "4917596650"
---
<span style="font-weight: 400;">An attack has been found and exploited in <a href="https://etherscan.io/address/0xbb9bc244d798123fde783fcc1c72d3bb8c189413">the DAO</a>, and the attacker is currently in the process of draining the ether contained in the DAO into a child DAO. The attack is a </span><a href="http://hackingdistributed.com/2016/06/16/scanning-live-ethereum-contracts-for-bugs/"><span style="font-weight: 400;">recursive calling vulnerability</span></a><b>, </b><span style="font-weight: 400;">where an attacker called the “split” function, and then calls the split function recursively inside of the split, thereby collecting ether many times over in a single transaction. </span>

<span style="font-weight: 400;">The leaked ether is in a child DAO at </span><a href="https://etherchain.org/account/0x304a554a310c7e546dfe434669c62820b7d83490"><span style="font-weight: 400;">https://etherchain.org/account/0x304a554a310c7e546dfe434669c62820b7d83490</span></a><b>; even if no action is taken, the attacker will not be able to withdraw any ether at least for another ~27 days (the creation window for the child DAO)</b><span style="font-weight: 400;">. This is an issue that affects the DAO specifically; </span><b>Ethereum itself is perfectly safe</b><span style="font-weight: 400;">.</span>

<span style="font-weight: 400;">A software fork has been proposed, </span><b>(with NO ROLLBACK; no transactions or blocks will be “reversed”)</b><span style="font-weight: 400;"> which will make any transactions that make any calls/callcodes/delegatecalls that reduce the balance of an account with code hash </span><span style="font-weight: 400;">0x7278d050619a624f84f51987149ddb439cdaadfba5966f7cfaea7ad44340a4ba</span><span style="font-weight: 400;"> (ie. the DAO and children) lead to the transaction (not just the call, the transaction) being invalid, starting from block 1760000 (precise block number subject to change up until the point the code is released), </span><b>preventing the ether from being withdrawn by the attacker past the 27-day window</b><span style="font-weight: 400;">.This will provide plenty of time for discussion of potential further steps including to give token holders the ability to recover their ether.</span>

<b>Miners and mining pools should resume allowing transactions as normal, wait for the soft fork code and stand ready to download and run it if they agree with this path forward for the Ethereum ecosystem. DAO token holders and ethereum users should sit tight and remain calm. Exchanges should feel safe in resuming trading ETH.</b>

<span style="font-weight: 400;">Contract authors should take care to (1) be very careful about recursive call bugs, and listen to advice from the Ethereum contract programming community that will likely be forthcoming in the next week on mitigating such bugs, and (2) avoid creating contracts that contain more than ~$10m worth of value, with the exception of sub-token contracts and other systems whose value is itself defined by social consensus outside of the Ethereum platform, and which can be easily “hard forked” via community consensus if a bug emerges (eg. MKR), at least until the community gains more experience with bug mitigation and/or better tools are developed.</span>

<span style="font-weight: 400;">Developers, cryptographers and computer scientists should note that any high-level tools (including IDEs, formal verification, debuggers, symbolic execution) that make it easy to write safe smart contracts on Ethereum are prime candidates for </span><a href="https://blog.ethereum.org/2015/04/07/devgrants-help/"><span style="font-weight: 400;">DevGrants</span></a><span style="font-weight: 400;">, </span><a href="http://www.blockchainlabs.org/blockgrant-x-en/"><span style="font-weight: 400;">Blockchain Labs grants</span></a><span style="font-weight: 400;"> and </span><a href="https://medium.com/@StringLabs/string-grants-for-public-chain-projects-on-ethereum-94c3da1950ec#.57wv3si1j"><span style="font-weight: 400;">String’s autonomous finance grants</span></a><span style="font-weight: 400;">.</span>

<strong>This post will continue to be updated.</strong>